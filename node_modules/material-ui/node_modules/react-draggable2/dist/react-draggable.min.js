!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory(require("React")):"function"==typeof define&&define.amd?define(["React"],factory):"object"==typeof exports?exports.ReactDraggable=factory(require("React")):root.ReactDraggable=factory(root.React)}(this,function(__WEBPACK_EXTERNAL_MODULE_2__){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)},function(module,exports,__webpack_require__){"use strict";function updateBoundState(state,bound){if(!bound)return state;bound=String(bound);var boundTop=!!~bound.indexOf("top"),boundRight=!!~bound.indexOf("right"),boundBottom=!!~bound.indexOf("bottom"),boundLeft=!!~bound.indexOf("left"),boundAll=!!~bound.indexOf("all")||!(boundTop||boundRight||boundBottom||boundLeft),boundBox=!~bound.indexOf("point");return state.boundTop=boundAll||boundTop,state.boundRight=boundAll||boundRight,state.boundBottom=boundAll||boundBottom,state.boundLeft=boundAll||boundLeft,state.boundBox=boundBox,state}function createUIEvent(draggable){return{position:{top:draggable.state.offsetTop,left:draggable.state.offsetLeft}}}function canDragY(draggable){return"both"===draggable.props.axis||"y"===draggable.props.axis}function canDragX(draggable){return"both"===draggable.props.axis||"x"===draggable.props.axis}function isFunction(func){return"function"==typeof func||"[object Function]"===Object.prototype.toString.call(func)}function findInArray(array,callback){for(var i=0,element=(array.length,null);element=array[i];i++)if(callback.apply(callback,[element,i,array]))return element}function matchesSelector(el,selector){var method=findInArray(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(method){return isFunction(el[method])});return el[method].call(el,selector)}function getControlPosition(e){var position=isTouchDevice?e.touches[0]:e;return{clientX:position.clientX,clientY:position.clientY}}function addEvent(el,event,handler){el&&(el.attachEvent?el.attachEvent("on"+event,handler):el.addEventListener?el.addEventListener(event,handler,!0):el["on"+event]=handler)}function removeEvent(el,event,handler){el&&(el.detachEvent?el.detachEvent("on"+event,handler):el.removeEventListener?el.removeEventListener(event,handler,!0):el["on"+event]=null)}var bodyElement,React=__webpack_require__(2),emptyFunction=__webpack_require__(3),root="undefined"!=typeof window?window:this;"undefined"!=typeof document&&"body"in document&&(bodyElement=document.body);var isTouchDevice="ontouchstart"in root||"onmsgesturechange"in root,dragEventFor=function(){var eventsFor={touch:{start:"touchstart",move:"touchmove",end:"touchend"},mouse:{start:"mousedown",move:"mousemove",end:"mouseup"}};return eventsFor[isTouchDevice?"touch":"mouse"]}();module.exports=React.createClass({displayName:"Draggable",propTypes:{axis:React.PropTypes.oneOf(["both","x","y"]),handle:React.PropTypes.string,cancel:React.PropTypes.string,bound:React.PropTypes.string,grid:React.PropTypes.arrayOf(React.PropTypes.number),constrain:React.PropTypes.func,start:React.PropTypes.object,zIndex:React.PropTypes.number,useChild:React.PropTypes.bool,onStart:React.PropTypes.func,onDrag:React.PropTypes.func,onStop:React.PropTypes.func,onMouseDown:React.PropTypes.func},getDefaultProps:function(){return{axis:"both",bound:null,handle:null,cancel:null,grid:null,start:{},zIndex:0/0,useChild:!0,onStart:emptyFunction,onDrag:emptyFunction,onStop:emptyFunction,onMouseDown:emptyFunction}},getInitialState:function(){var state={dragging:!1,clientX:0,clientY:0,offsetLeft:this.props.start.x||0,offsetTop:this.props.start.y||0};return updateBoundState(state,this.props.bound),state},componentWillReceiveProps:function(nextProps){var state=updateBoundState({},nextProps.bound);nextProps.start&&(null!=nextProps.start.x&&(state.offsetLeft=nextProps.start.x||0),null!=nextProps.start.y&&(state.offsetTop=nextProps.start.y||0)),this.setState(state)},componentWillUnmount:function(){removeEvent(root,dragEventFor.move,this.handleDrag),removeEvent(root,dragEventFor.end,this.handleDragEnd)},handleDragStart:function(e){if(this.props.onMouseDown(e),!(this.props.handle&&!matchesSelector(e.target,this.props.handle)||this.props.cancel&&matchesSelector(e.target,this.props.cancel))){var dragPoint=getControlPosition(e);this.setState({dragging:!0,clientX:dragPoint.clientX,clientY:dragPoint.clientY}),this.props.onStart(e,createUIEvent(this)),addEvent(root,dragEventFor.move,this.handleDrag),addEvent(root,dragEventFor.end,this.handleDragEnd),bodyElement&&(bodyElement.className+=" react-draggable-dragging")}},handleDragEnd:function(e){if(this.state.dragging&&(this.setState({dragging:!1}),this.props.onStop(e,createUIEvent(this)),removeEvent(root,dragEventFor.move,this.handleDrag),removeEvent(root,dragEventFor.end,this.handleDragEnd),bodyElement)){var className=bodyElement.className;bodyElement.className=className.replace(/(?:^|\s+)react-draggable-dragging\b/," ")}},handleDrag:function(e){var offset,boundingValue,dragPoint=getControlPosition(e),offsetLeft=this._toPixels(this.state.offsetLeft),offsetTop=this._toPixels(this.state.offsetTop),state={offsetLeft:offsetLeft,offsetTop:offsetTop},node=this.getDOMNode(),offsetParent=node.offsetParent;canDragX(this)&&(offset=offsetLeft+dragPoint.clientX-this.state.clientX,this.state.boundLeft&&(boundingValue=state.offsetLeft-node.offsetLeft,boundingValue>offset&&(offset=boundingValue)),this.state.boundRight&&(boundingValue+=offsetParent.clientWidth,this.state.boundBox&&(boundingValue-=node.offsetWidth),offset>boundingValue&&(offset=boundingValue)),state.offsetLeft=offset),canDragY(this)&&(offset=offsetTop+dragPoint.clientY-this.state.clientY,this.state.boundTop&&(boundingValue=state.offsetTop-node.offsetTop,boundingValue>offset&&(offset=boundingValue)),this.state.boundBottom&&(boundingValue+=offsetParent.clientHeight,this.state.boundBox&&(boundingValue-=node.offsetHeight),offset>boundingValue&&(offset=boundingValue)),state.offsetTop=offset);var constrain=this.props.constrain,grid=this.props.grid;if(!constrain&&Array.isArray(grid)){var constrainOffset=function(offset,prev,snap){var delta=offset-prev;return Math.abs(delta)>=snap?prev+parseInt(delta/snap,10)*snap:prev};constrain=function(pos){return{left:constrainOffset(pos.left,pos.prevLeft,grid[0]),top:constrainOffset(pos.top,pos.prevTop,grid[1])}}}var positions;constrain&&(positions=constrain({prevLeft:this.state.offsetLeft,prevTop:this.state.offsetTop,left:state.offsetLeft,top:state.offsetTop}),positions&&("left"in positions&&!isNaN(positions.left)&&(state.offsetLeft=positions.left),"top"in positions&&!isNaN(positions.top)&&(state.offsetTop=positions.top))),state.clientX=this.state.clientX+(state.offsetLeft-offsetLeft),state.clientY=this.state.clientY+(state.offsetTop-offsetTop),this.setState(state),this.props.onDrag(e,createUIEvent(this))},onTouchStart:function(e){return e.preventDefault(),this.handleDragStart.apply(this,arguments)},render:function(){var style={top:this.state.offsetTop,left:this.state.offsetLeft};this.state.dragging&&!isNaN(this.props.zIndex)&&(style.zIndex=this.props.zIndex);var props={style:style,className:"react-draggable",onMouseDown:this.handleDragStart,onTouchStart:this.onTouchStart,onMouseUp:this.handleDragEnd,onTouchEnd:this.handleDragEnd};return this.props.useChild?React.addons.cloneWithProps(React.Children.only(this.props.children),props):React.DOM.div(props,this.props.children)},_toPixels:function(value){if("string"==typeof value&&"%"==value.slice(-1))return parseInt(+value.replace("%","")/100*this.getDOMNode().offsetParent.clientWidth,10)||0;var i=parseInt(value,10);return isNaN(i)||!isFinite(i)?0:i}})},function(module){module.exports=__WEBPACK_EXTERNAL_MODULE_2__},function(module){function makeEmptyFunction(arg){return function(){return arg}}function emptyFunction(){}emptyFunction.thatReturns=makeEmptyFunction,emptyFunction.thatReturnsFalse=makeEmptyFunction(!1),emptyFunction.thatReturnsTrue=makeEmptyFunction(!0),emptyFunction.thatReturnsNull=makeEmptyFunction(null),emptyFunction.thatReturnsThis=function(){return this},emptyFunction.thatReturnsArgument=function(arg){return arg},module.exports=emptyFunction}])});
//# sourceMappingURL=react-draggable.min.map